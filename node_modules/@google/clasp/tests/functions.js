"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("./constants");
var fs_extra_1 = __importDefault(require("fs-extra"));
exports.cleanup = function () {
    fs_extra_1.default.removeSync('.clasp.json');
    fs_extra_1.default.removeSync('.claspignore');
    fs_extra_1.default.removeSync('Code.js');
    fs_extra_1.default.removeSync('appsscript.json');
};
exports.setup = function () {
    fs_extra_1.default.writeFileSync('.clasp.json', constants_1.CLASP_SETTINGS.valid);
    fs_extra_1.default.writeFileSync('appsscript.json', constants_1.TEST_APPSSCRIPT_JSON_WITHOUT_RUN_API);
};
exports.setupWithoutGCPProject = function () {
    fs_extra_1.default.writeFileSync('.clasp.json', constants_1.CLASP_SETTINGS.validWithoutProjectId);
    fs_extra_1.default.writeFileSync('appsscript.json', constants_1.TEST_APPSSCRIPT_JSON_WITHOUT_RUN_API);
};
exports.setupWithRunManifest = function () {
    fs_extra_1.default.writeFileSync('.clasp.json', constants_1.CLASP_SETTINGS.valid);
    fs_extra_1.default.writeFileSync('appsscript.json', constants_1.TEST_APPSSCRIPT_JSON_WITH_RUN_API);
};
exports.rndStr = function () { return Math.random().toString(36).substr(2); };
exports.backupSettings = function () {
    if (fs_extra_1.default.existsSync(constants_1.CLASP_PATHS.rcGlobal)) {
        fs_extra_1.default.copyFileSync(constants_1.CLASP_PATHS.rcGlobal, constants_1.CLASP_PATHS.rcGlobal + "~");
    }
    if (fs_extra_1.default.existsSync(constants_1.CLASP_PATHS.rcLocal)) {
        fs_extra_1.default.copyFileSync(constants_1.CLASP_PATHS.rcLocal, constants_1.CLASP_PATHS.rcLocal + "~");
    }
    if (fs_extra_1.default.existsSync(constants_1.CLASP_PATHS.settingsLocal)) {
        fs_extra_1.default.copyFileSync(constants_1.CLASP_PATHS.settingsLocal, constants_1.CLASP_PATHS.settingsLocal + "~");
    }
};
exports.restoreSettings = function () {
    if (fs_extra_1.default.existsSync(constants_1.CLASP_PATHS.rcGlobal + "~")) {
        fs_extra_1.default.renameSync(constants_1.CLASP_PATHS.rcGlobal + "~", constants_1.CLASP_PATHS.rcGlobal);
    }
    if (fs_extra_1.default.existsSync(constants_1.CLASP_PATHS.rcLocal + "~")) {
        fs_extra_1.default.renameSync(constants_1.CLASP_PATHS.rcLocal + "~", constants_1.CLASP_PATHS.rcLocal);
    }
    if (fs_extra_1.default.existsSync(constants_1.CLASP_PATHS.settingsLocal + "~")) {
        fs_extra_1.default.renameSync(constants_1.CLASP_PATHS.settingsLocal + "~", constants_1.CLASP_PATHS.settingsLocal);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZnVuY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEseUNBS3FCO0FBRXJCLHNEQUEwQjtBQUViLFFBQUEsT0FBTyxHQUFHO0lBQ3JCLGtCQUFFLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzdCLGtCQUFFLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzlCLGtCQUFFLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLGtCQUFFLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDbkMsQ0FBQyxDQUFDO0FBRVcsUUFBQSxLQUFLLEdBQUc7SUFDbkIsa0JBQUUsQ0FBQyxhQUFhLENBQUMsYUFBYSxFQUFFLDBCQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEQsa0JBQUUsQ0FBQyxhQUFhLENBQUMsaUJBQWlCLEVBQUUsZ0RBQW9DLENBQUMsQ0FBQztBQUM1RSxDQUFDLENBQUM7QUFFVyxRQUFBLHNCQUFzQixHQUFHO0lBQ3BDLGtCQUFFLENBQUMsYUFBYSxDQUFDLGFBQWEsRUFBRSwwQkFBYyxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDdEUsa0JBQUUsQ0FBQyxhQUFhLENBQUMsaUJBQWlCLEVBQUUsZ0RBQW9DLENBQUMsQ0FBQztBQUM1RSxDQUFDLENBQUM7QUFFVyxRQUFBLG9CQUFvQixHQUFHO0lBQ2xDLGtCQUFFLENBQUMsYUFBYSxDQUFDLGFBQWEsRUFBRSwwQkFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RELGtCQUFFLENBQUMsYUFBYSxDQUFDLGlCQUFpQixFQUFFLDZDQUFpQyxDQUFDLENBQUM7QUFDekUsQ0FBQyxDQUFDO0FBRVcsUUFBQSxNQUFNLEdBQUcsY0FBTSxPQUFBLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFwQyxDQUFvQyxDQUFDO0FBRXBELFFBQUEsY0FBYyxHQUFHO0lBQzVCLElBQUksa0JBQUUsQ0FBQyxVQUFVLENBQUMsdUJBQVcsQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUN2QyxrQkFBRSxDQUFDLFlBQVksQ0FBQyx1QkFBVyxDQUFDLFFBQVEsRUFBSyx1QkFBVyxDQUFDLFFBQVEsTUFBRyxDQUFDLENBQUM7S0FDbkU7SUFDRCxJQUFJLGtCQUFFLENBQUMsVUFBVSxDQUFDLHVCQUFXLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDdEMsa0JBQUUsQ0FBQyxZQUFZLENBQUMsdUJBQVcsQ0FBQyxPQUFPLEVBQUssdUJBQVcsQ0FBQyxPQUFPLE1BQUcsQ0FBQyxDQUFDO0tBQ2pFO0lBQ0QsSUFBSSxrQkFBRSxDQUFDLFVBQVUsQ0FBQyx1QkFBVyxDQUFDLGFBQWEsQ0FBQyxFQUFFO1FBQzVDLGtCQUFFLENBQUMsWUFBWSxDQUFDLHVCQUFXLENBQUMsYUFBYSxFQUFLLHVCQUFXLENBQUMsYUFBYSxNQUFHLENBQUMsQ0FBQztLQUM3RTtBQUNILENBQUMsQ0FBQztBQUVXLFFBQUEsZUFBZSxHQUFHO0lBQzdCLElBQUksa0JBQUUsQ0FBQyxVQUFVLENBQUksdUJBQVcsQ0FBQyxRQUFRLE1BQUcsQ0FBQyxFQUFFO1FBQzdDLGtCQUFFLENBQUMsVUFBVSxDQUFJLHVCQUFXLENBQUMsUUFBUSxNQUFHLEVBQUUsdUJBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNqRTtJQUNELElBQUksa0JBQUUsQ0FBQyxVQUFVLENBQUksdUJBQVcsQ0FBQyxPQUFPLE1BQUcsQ0FBQyxFQUFFO1FBQzVDLGtCQUFFLENBQUMsVUFBVSxDQUFJLHVCQUFXLENBQUMsT0FBTyxNQUFHLEVBQUUsdUJBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUMvRDtJQUNELElBQUksa0JBQUUsQ0FBQyxVQUFVLENBQUksdUJBQVcsQ0FBQyxhQUFhLE1BQUcsQ0FBQyxFQUFFO1FBQ2xELGtCQUFFLENBQUMsVUFBVSxDQUFJLHVCQUFXLENBQUMsYUFBYSxNQUFHLEVBQUUsdUJBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUMzRTtBQUNILENBQUMsQ0FBQyJ9